webpackJsonp([2],[function(e,f,a){"use strict";function c(e){if(Array.isArray(e)){for(var f=0,a=Array(e.length);f<e.length;f++)a[f]=e[f];return a}return Array.from(e)}function d(e){return""+e[0].toUpperCase()+e.slice(1)}function t(e){if(e.status>=200&&e.status<300)return e;var f=new Error(e.statusText);throw f.response=e,new Error(f)}function n(e,f){var a=f.twitter,c=f.foursquare;return"\n    <div>\n      "+e+"\n      <br>\n      "+a.statuses+"\n      <br>\n      "+c.usercount+"\n    </div>\n  "}function r(e,f,a){return m('\n      <li>\n        <span class="fa fa-times delete"></span>\n        <span>'+d(e)+": "+d(f)+" - "+d(a)+"</span>\n      </li>").data("type",e).data("area",f).data("name",a)}function b(e){var f={statuses:e.twitter_statuses||0},a={usercount:e.foursquare_usercount||0};return g.marker([e.lat,e.lon]).bindPopup(n(e.ds_pdv,{twitter:f,foursquare:a}))}function o(e){return C.filter(function(f){var a=!0,c=!1,d=void 0;try{for(var t,n=e[Symbol.iterator]();!(a=(t=n.next()).done);a=!0){var r=t.value;if(f[r.area].toLowerCase()===r.name)return!0}}catch(b){c=!0,d=b}finally{try{!a&&n["return"]&&n["return"]()}finally{if(c)throw d}}return!1}).filter(function(e){return e.lat&&e.lon}).map(b)}function i(e,f,a){return C.filter(function(e){return e.lat&&e.lon&&e[a]}).filter(function(a){return a[e].toLowerCase()===f}).map(function(e){return[e.lat,e.lon,e[a]]})}function s(){return fetch("./api/v1/token",{credentials:"same-origin"}).then(t).then(function(e){return e.text()})}function u(e,f,a){return fetch("./api/v1/venues?area="+f+"&name="+a+"&token="+e).then(t).then(function(e){return e.json()}).then(function(e){var d=C.map(function(e){return e.cd_pdv}),t=e.filter(function(e){return-1===d.indexOf(e.cd_pdv)});C.push.apply(C,c(t)),k.push({area:f,name:a})})}function l(e,f,a,c){return fetch("./api/v1/map?area="+f+"&name="+a+"&gran="+c+"&token="+e).then(t).then(function(e){return e.json()}).then(function(e){return E.push({area:f,name:a,gran:c,shapes:e})})}function p(e){return e>1e3?"#800026":e>500?"#BD0026":e>200?"#E31A1C":e>100?"#FC4E2A":e>50?"#FD8D3C":e>20?"#FEB24C":e>10?"#FED976":"#FFEDA0"}function v(){m(".control .markers").find("#marker-city").prop("checked",!0),m(".control .markers").find(".name").val(""),m(".select .markers").removeClass("active"),m(".control .markers").removeClass("active"),m(".control").removeClass("active"),m(".control .heatmaps").find("#heatmap-city").prop("checked",!0),m(".control .heatmaps").find(".name").val(""),m(".control .heatmaps").find(".variable").val(""),m(".select .heatmaps").removeClass("active"),m(".control .heatmaps").removeClass("active"),m(".control").removeClass("active"),m(".control .geometry").find("#geometry-city").prop("checked",!0),m(".control .geometry").find(".name").val(""),m(".control .geometry").find(".gran").val(""),m(".select .geometry").removeClass("active"),m(".control .geometry").removeClass("active"),m(".control").removeClass("active")}var m=a(2),h=(a(5),a(7)),g=window.L,y=Object.freeze({markers:"markers",heatmaps:"heatmaps",geometry:"geometry"}),C=[],k=[],E=[];m(document).foundation();var w=g.map("map",{zoomControl:!1}).setView([40.417049,-3.703525],6);g.control.zoom({position:"bottomleft"}).addTo(w);var D=g.control();D.onAdd=function(e){return this._div=g.DomUtil.create("div","info"),this.update(),this._div},D.update=function(e){var f="";if(e)for(var a in e)e.hasOwnProperty(a)&&(f+=a+": "+e[a]+"<br>");else f="Hover over an area";this._div.innerHTML="<h4>Area Data</h4>"+f};var P=g.control({position:"bottomright"});P.onAdd=function(e){for(var f=g.DomUtil.create("div","info legend"),a=[0,10,20,50,100,200,500,1e3],c=0;c<a.length;c++)f.innerHTML+='\n      <i style="background:'+p(a[c]+1)+'"></i>\n      <span>'+a[c]+(a[c+1]?"&ndash;"+a[c+1]+"<br>":"+")+"</span>";return f},g.TopoJSON=g.GeoJSON.extend({addData:function(e){if("Topology"===e.type)for(var f in e.objects){var a=h.feature(e,e.objects[f]);g.GeoJSON.prototype.addData.call(this,a)}else g.GeoJSON.prototype.addData.call(this,e);return this}}),g.topoJson=function(e,f){return new g.TopoJSON(e,f)};var L=(g.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',id:"mapbox.light",accessToken:"pk.eyJ1IjoibXluZGZsYW1lIiwiYSI6ImNpbXJ1am85cDAwNGx2OW0xbnU0amdkZHgifQ.56NzZw6OPm41VEqhaqGHAA"}).addTo(w),g.markerClusterGroup({disableClusteringAtZoom:18}).addTo(w)),T=[],A=[],B=s();m(".select").on("click",".markers",function(e){e.preventDefault(),m(e.currentTarget).addClass("active").siblings().removeClass("active"),m(".control .markers").addClass("active").siblings().removeClass("active"),m(".control").addClass("active")}).on("click",".markers.active",function(e){e.preventDefault(),m(e.currentTarget).removeClass("active").siblings().removeClass("active"),m(".control .markers").removeClass("active").siblings().removeClass("active"),m(".control").removeClass("active")}).on("click",".heatmaps",function(e){e.preventDefault(),m(e.currentTarget).addClass("active").siblings().removeClass("active"),m(".control .heatmaps").addClass("active").siblings().removeClass("active"),m(".control").addClass("active")}).on("click",".heatmaps.active",function(e){e.preventDefault(),m(e.currentTarget).removeClass("active").siblings().removeClass("active"),m(".control .heatmaps").removeClass("active").siblings().removeClass("active"),m(".control").removeClass("active")}).on("click",".geometry",function(e){e.preventDefault(),m(e.currentTarget).addClass("active").siblings().removeClass("active"),m(".control .geometry").addClass("active").siblings().removeClass("active"),m(".control").addClass("active")}).on("click",".geometry.active",function(e){e.preventDefault(),m(e.currentTarget).removeClass("active").siblings().removeClass("active"),m(".control .geometry").removeClass("active").siblings().removeClass("active"),m(".control").removeClass("active")}),m(".controls .layers").on("click",".delete",function(e){e.preventDefault();var f=m(e.currentTarget).parent().data("type"),a=m(e.currentTarget).parent().data("area"),d=m(e.currentTarget).parent().data("name");switch(f){case y.markers:m(e.currentTarget).parent().remove();var t=m(".controls .layers").find("li").toArray().map(function(e){return{type:m(e).data("type"),area:m(e).data("area"),name:m(e).data("name")}}).filter(function(e){return e.type===f});L.clearLayers(),L.addLayers(o(t));break;case y.heatmaps:var n=T.reduce(function(e,f,c){return f.area===a&&f.name===d?c:e},-1);-1!==n&&(w.removeLayer(T[n].heatmap),T=[].concat(c(T.slice(0,n)),c(T.slice(n+1))),m(e.currentTarget).parent().remove());break;case y.geometry:var r=A.reduce(function(e,f,c){return f.area===a&&f.name===d?c:e},-1);-1!==r&&(w.removeLayer(A[r].geometry),A=[].concat(c(A.slice(0,r)),c(A.slice(r+1))),m(e.currentTarget).parent().remove()),w.removeControl(D),w.removeControl(P),w.setView([40.417049,-3.703525],6)}}),m(".control .markers").on("click",".advanced",function(e){e.preventDefault()}).on("click",".add",function(e){e.preventDefault();var f=y.markers,a=m(".control .markers").find('input[type="radio"]:checked').val().trim().toLowerCase(),c=m(".control .markers").find(".name").val().trim().toLowerCase();if(a&&c){var d=m(".controls .layers").find("li").toArray().map(function(e){return{type:m(e).data("type"),area:m(e).data("area"),name:m(e).data("name")}}).filter(function(e){return e.type===f});if(!d.find(function(e){return e.area===a&&e.name===c})){m(".loading").toggle();var t=k.find(function(e){return e.area===a&&e.name===c})?Promise.resolve():B.then(function(e){return u(e,a,c)});t.then(function(){d.push({type:f,area:a,name:c}),L.clearLayers(),L.addLayers(o(d)),w.fitBounds(L.getBounds()),m(".controls .layers").find("ul").append(r(f,a,c)),v(),m(".loading").toggle()})["catch"](function(){return m(".loading").toggle()})}}}).on("click",".cancel",function(e){e.preventDefault(),v()}),m(".control .heatmaps").on("click",".advanced",function(e){e.preventDefault()}).on("click",".add",function(e){if(e.preventDefault(),0!==m(".control .heatmaps").find(".variable").prop("selectedIndex")){var f=y.heatmaps,a=m(".control .heatmaps").find('input[type="radio"]:checked').val().trim().toLowerCase(),d=m(".control .heatmaps").find(".name").val().trim().toLowerCase(),t=m(".control .heatmaps").find(".variable").val().trim().toLowerCase();if(a&&d&&t){var n=m(".controls .layers").find("li").toArray().map(function(e){return{type:m(e).data("type"),area:m(e).data("area"),name:m(e).data("name")}}).filter(function(e){return e.type===f});if(!n.find(function(e){return e.area===a&&e.name===d})){m(".loading").toggle();var b=k.find(function(e){return e.area===a&&e.name===d})?Promise.resolve():B.then(function(e){return u(e,a,d)});b.then(function(){var e=i(a,d,t),n=Math.max.apply(Math,c(e.map(function(e){return e[2]}).sort(function(e,f){return f-e}).slice(.1*e.length))),b=g.heatLayer(e,{radius:25,max:n});b.addTo(w),T.push({area:a,name:d,heatmap:b}),m(".controls .layers").find("ul").append(r(f,a,d)),v(),m(".loading").toggle()})["catch"](function(){return m(".loading").toggle()})}}}}).on("click",".cancel",function(e){e.preventDefault(),v()}),m(".control .geometry").on("click",".advanced",function(e){e.preventDefault()}).on("click",".add",function(e){if(e.preventDefault(),0!==m(".control .geometry").find(".variable").prop("selectedIndex")){var f=y.geometry,a=m(".control .geometry").find('input[type="radio"]:checked').val().trim().toLowerCase(),c=m(".control .geometry").find(".name").val().trim().toLowerCase(),d=m(".control .geometry").find(".gran").val().trim().toLowerCase(),t=m(".control .geometry").find(".variable").val().trim().toLowerCase();if(a&&c&&d&&t){var n=m(".controls .layers").find("li").toArray().map(function(e){return{type:m(e).data("type"),area:m(e).data("area"),name:m(e).data("name")}}).filter(function(e){return e.type===f});if(!n.length){m(".loading").toggle();var b=-1===E.filter(function(e){return e.area===a}).map(function(e){return e.name}).indexOf(c)?B.then(function(e){return l(e,a,c,d)}):Promise.resolve();b.then(function(){var e=E.find(function(e){return e.area===a&&e.name===c&&e.gran===d}).shapes,n=g.topoJson(null,{onEachFeature:function(e,f){f.on({mouseover:function(e){e.target.setStyle({weight:2,color:"#666",dashArray:"",fillOpacity:.7}),g.Browser.ie||g.Browser.opera||e.target.bringToFront(),D.update(e.target.feature.properties)},mouseout:function(e){n.resetStyle(e.target),D.update()},click:function(e){w.fitBounds(e.target.getBounds())}})},style:function(e){return{fillColor:p(e.properties[t]),fillOpacity:.7,weight:1,opacity:1,color:"white",dashArray:"3"}}}).addData(e).addTo(w);A.push({area:a,name:c,geometry:n}),D.addTo(w),P.addTo(w),w.fitBounds(n.getBounds()),m(".controls .layers").find("ul").append(r(f,a,c)),v(),m(".loading").toggle()})["catch"](function(){return m(".loading").toggle()})}}}}).on("click",".cancel",function(e){e.preventDefault(),v()})},,,,,function(e,f,a){e.exports=a(6)},function(e,f,a){var c,d;!function(){var t={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};c=t,d="function"==typeof c?c.call(f,a,f,e):c,!(void 0!==d&&(e.exports=d))}()},function(e,f,a){!function(e,a){a(f)}(this,function(e){"use strict";function f(){}function a(e){if(!e)return f;var a,c,d=e.scale[0],t=e.scale[1],n=e.translate[0],r=e.translate[1];return function(e,f){f||(a=c=0),e[0]=(a+=e[0])*d+n,e[1]=(c+=e[1])*t+r}}function c(e){if(!e)return f;var a,c,d=e.scale[0],t=e.scale[1],n=e.translate[0],r=e.translate[1];return function(e,f){f||(a=c=0);var b=Math.round((e[0]-n)/d),o=Math.round((e[1]-r)/t);e[0]=b-a,e[1]=o-c,a=b,c=o}}function d(e,f){for(var a,c=e.length,d=c-f;d<--c;)a=e[d],e[d++]=e[c],e[c]=a}function t(e,f){for(var a=0,c=e.length;c>a;){var d=a+c>>>1;e[d]<f?a=d+1:c=d}return a}function n(e,f){return"GeometryCollection"===f.type?{type:"FeatureCollection",features:f.geometries.map(function(f){return r(e,f)})}:r(e,f)}function r(e,f){var a={type:"Feature",id:f.id,properties:f.properties||{},geometry:b(e,f)};return null==f.id&&delete a.id,a}function b(e,f){function c(e,f){f.length&&f.pop();for(var a,c=s[0>e?~e:e],t=0,n=c.length;n>t;++t)f.push(a=c[t].slice()),i(a,t);0>e&&d(f,n)}function t(e){return e=e.slice(),i(e,0),e}function n(e){for(var f=[],a=0,d=e.length;d>a;++a)c(e[a],f);return f.length<2&&f.push(f[0].slice()),f}function r(e){for(var f=n(e);f.length<4;)f.push(f[0].slice());return f}function b(e){return e.map(r)}function o(e){var f=e.type;return"GeometryCollection"===f?{type:f,geometries:e.geometries.map(o)}:f in u?{type:f,coordinates:u[f](e)}:null}var i=a(e.transform),s=e.arcs,u={Point:function(e){return t(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(t)},LineString:function(e){return n(e.arcs)},MultiLineString:function(e){return e.arcs.map(n)},Polygon:function(e){return b(e.arcs)},MultiPolygon:function(e){return e.arcs.map(b)}};return o(f)}function o(e,f){function a(f){var a,c=e.arcs[0>f?~f:f],d=c[0];return e.transform?(a=[0,0],c.forEach(function(e){a[0]+=e[0],a[1]+=e[1]})):a=c[c.length-1],0>f?[a,d]:[d,a]}function c(e,f){for(var a in e){var c=e[a];delete f[c.start],delete c.start,delete c.end,c.forEach(function(e){d[0>e?~e:e]=1}),r.push(c)}}var d={},t={},n={},r=[],b=-1;return f.forEach(function(a,c){var d,t=e.arcs[0>a?~a:a];t.length<3&&!t[1][0]&&!t[1][1]&&(d=f[++b],f[b]=a,f[c]=d)}),f.forEach(function(e){var f,c,d=a(e),r=d[0],b=d[1];if(f=n[r])if(delete n[f.end],f.push(e),f.end=b,c=t[b]){delete t[c.start];var o=c===f?f:f.concat(c);t[o.start=f.start]=n[o.end=c.end]=o}else t[f.start]=n[f.end]=f;else if(f=t[b])if(delete t[f.start],f.unshift(e),f.start=r,c=n[r]){delete n[c.end];var i=c===f?f:c.concat(f);t[i.start=c.start]=n[i.end=f.end]=i;
}else t[f.start]=n[f.end]=f;else f=[e],t[f.start=r]=n[f.end=b]=f}),c(n,t),c(t,n),f.forEach(function(e){d[0>e?~e:e]||r.push([e])}),r}function i(e){return b(e,s.apply(this,arguments))}function s(e,f,a){function c(e){var f=0>e?~e:e;(i[f]||(i[f]=[])).push({i:e,g:b})}function d(e){e.forEach(c)}function t(e){e.forEach(d)}function n(e){"GeometryCollection"===e.type?e.geometries.forEach(n):e.type in s&&(b=e,s[e.type](e.arcs))}var r=[];if(arguments.length>1){var b,i=[],s={LineString:d,MultiLineString:t,Polygon:t,MultiPolygon:function(e){e.forEach(t)}};n(f),i.forEach(arguments.length<3?function(e){r.push(e[0].i)}:function(e){a(e[0].g,e[e.length-1].g)&&r.push(e[0].i)})}else for(var u=0,l=e.arcs.length;l>u;++u)r.push(u);return{type:"MultiLineString",arcs:o(e,r)}}function u(e){var f=e[0],a=e[1],c=e[2];return Math.abs((f[0]-c[0])*(a[1]-f[1])-(f[0]-a[0])*(c[1]-f[1]))}function l(e){for(var f,a=-1,c=e.length,d=e[c-1],t=0;++a<c;)f=d,d=e[a],t+=f[0]*d[1]-f[1]*d[0];return t/2}function p(e){return b(e,v.apply(this,arguments))}function v(e,f){function a(e){e.forEach(function(f){f.forEach(function(f){(d[f=0>f?~f:f]||(d[f]=[])).push(e)})}),t.push(e)}function c(f){return Math.abs(l(b(e,{type:"Polygon",arcs:[f]}).coordinates[0]))}var d={},t=[],n=[];return f.forEach(function(e){"Polygon"===e.type?a(e.arcs):"MultiPolygon"===e.type&&e.arcs.forEach(a)}),t.forEach(function(e){if(!e._){var f=[],a=[e];for(e._=1,n.push(f);e=a.pop();)f.push(e),e.forEach(function(e){e.forEach(function(e){d[0>e?~e:e].forEach(function(e){e._||(e._=1,a.push(e))})})})}}),t.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:n.map(function(f){var a,t=[];if(f.forEach(function(e){e.forEach(function(e){e.forEach(function(e){d[0>e?~e:e].length<2&&t.push(e)})})}),t=o(e,t),(a=t.length)>1)for(var n,r,b=1,i=c(t[0]);a>b;++b)(n=c(t[b]))>i&&(r=t[0],t[0]=t[b],t[b]=r,i=n);return t})}}function m(e){function f(e,f){e.forEach(function(e){0>e&&(e=~e);var a=d[e];a?a.push(f):d[e]=[f]})}function a(e,a){e.forEach(function(e){f(e,a)})}function c(e,f){"GeometryCollection"===e.type?e.geometries.forEach(function(e){c(e,f)}):e.type in r&&r[e.type](e.arcs,f)}var d={},n=e.map(function(){return[]}),r={LineString:f,MultiLineString:a,Polygon:a,MultiPolygon:function(e,f){e.forEach(function(e){a(e,f)})}};e.forEach(c);for(var b in d)for(var o=d[b],i=o.length,s=0;i>s;++s)for(var u=s+1;i>u;++u){var l,p=o[s],v=o[u];(l=n[p])[b=t(l,v)]!==v&&l.splice(b,0,v),(l=n[v])[b=t(l,p)]!==p&&l.splice(b,0,p)}return n}function h(e,f){return e[1][2]-f[1][2]}function g(){function e(e,f){for(;f>0;){var a=(f+1>>1)-1,d=c[a];if(h(e,d)>=0)break;c[d._=f]=d,c[e._=f=a]=e}}function f(e,f){for(;;){var a=f+1<<1,t=a-1,n=f,r=c[n];if(d>t&&h(c[t],r)<0&&(r=c[n=t]),d>a&&h(c[a],r)<0&&(r=c[n=a]),n===f)break;c[r._=f]=r,c[e._=f=n]=e}}var a={},c=[],d=0;return a.push=function(f){return e(c[f._=d]=f,d++),d},a.pop=function(){if(!(0>=d)){var e,a=c[0];return--d>0&&(e=c[d],f(c[e._=0]=e,0)),a}},a.remove=function(a){var t,n=a._;if(c[n]===a)return n!==--d&&(t=c[d],(h(t,a)<0?e:f)(c[t._=n]=t,n)),n},a}function y(e,f){function d(e){r.remove(e),e[1][2]=f(e),r.push(e)}var t=a(e.transform),n=c(e.transform),r=g();return f||(f=u),e.arcs.forEach(function(e){var a,c,b,o,i=[],s=0;for(c=0,b=e.length;b>c;++c)o=e[c],t(e[c]=[o[0],o[1],1/0],c);for(c=1,b=e.length-1;b>c;++c)a=e.slice(c-1,c+2),a[1][2]=f(a),i.push(a),r.push(a);for(c=0,b=i.length;b>c;++c)a=i[c],a.previous=i[c-1],a.next=i[c+1];for(;a=r.pop();){var u=a.previous,l=a.next;a[1][2]<s?a[1][2]=s:s=a[1][2],u&&(u.next=l,u[2]=a[2],d(u)),l&&(l.previous=u,l[0]=a[0],d(l))}e.forEach(n)}),e}var C="1.6.26";e.version=C,e.mesh=i,e.meshArcs=s,e.merge=p,e.mergeArcs=v,e.feature=n,e.neighbors=m,e.presimplify=y})}]);