"use strict";!function(t,n){t(document).foundation(),t('input[type="radio"] + label').on("click",function(n){var i=t(n.currentTarget).siblings('input[type="radio"]'),r=i.attr("name"),e=i.val();t("."+r+" .controls button").data("list",e)}),fetch("./api/v1/token",{credentials:"same-origin"}).then(function(t){return t.text()}).then(function(i){var r=n({query:"token="+i});r.on("connect",function(){t(".update").on("click",function(n){n.preventDefault();var i=t(n.currentTarget).data("origin"),e=t(n.currentTarget).data("list");r.emit("start",{origin:i,list:e})}),t(".stop").on("click",function(n){n.preventDefault();var i=t(n.currentTarget).data("origin"),e=t(n.currentTarget).data("list");r.emit("stop",{origin:i,list:e})}),r.on("start",function(n){var i=n.origin,r=n.list,e=t("."+i);e.find(".update").hide(),e.find(".stop").show(),e.find(".progress").show(),e.find('input[type="radio"][value="'+r+'"]').prop("checked",!0),e.find('input[type="radio"]').prop("disabled",!0)}),r.on("stop",function(n){var i=n.origin,r=t("."+i);r.find(".update").show(),r.find(".stop").hide(),r.find(".progress").hide(),r.find('input[type="radio"]').prop("disabled",!1)}),r.on("progress",function(n){var i=n.origin,r=n.progress,e=t("."+i+" .progress");e.attr("aria-valuenow",r),e.attr("aria-valuetext",r+" percent"),e.find(".progress-meter").width(r+"%"),e.find(".progress-meter-text").text(r+"%")})})})}($,io);