"use strict";!function(t,e){function n(t){t.forEach(function(t){return"disabled"===t.state?t.element.addClass("disabled"):t.element.removeClass("disabled")})}function s(t,e){t.attr("aria-valuenow",e),t.attr("aria-valuetext",e+" percent"),t.find(".progress-meter").width(e+"%"),t.find(".progress-meter-text").text(e+"%")}fetch("./api/v1/token",{credentials:"same-origin"}).then(function(t){return t.text()}).then(function(o){var i=e({query:"token="+o});i.on("connect",function(){var e=t(".twitter .update"),o=t(".twitter .stop"),r=t(".twitter .progress");e.on("click",function(t){t.preventDefault(),i.emit("twitter_start")}),o.on("click",function(t){t.preventDefault(),i.emit("twitter_stop")}),i.on("twitter_start",function(){n([{element:e,state:"disabled"},{element:o,state:""}])}),i.on("twitter_stop",function(){n([{element:e,state:""},{element:o,state:"disabled"}])}),i.on("twitter_progress",function(t){s(r,t)});var a=t(".facebook .update"),l=t(".facebook .stop"),p=t(".facebook .progress");a.on("click",function(t){t.preventDefault(),i.emit("facebook_start")}),l.on("click",function(t){t.preventDefault(),i.emit("facebook_stop")}),i.on("facebook_start",function(){n([{element:a,state:"disabled"},{element:l,state:""}])}),i.on("facebook_stop",function(){n([{element:a,state:""},{element:l,state:"disabled"}])}),i.on("facebook_progress",function(t){s(p,t)});var c=t(".foursquare .update"),u=t(".foursquare .stop"),f=t(".foursquare .progress");c.on("click",function(t){t.preventDefault(),i.emit("foursquare_start")}),u.on("click",function(t){t.preventDefault(),i.emit("foursquare_stop")}),i.on("foursquare_start",function(){n([{element:c,state:"disabled"},{element:u,state:""}])}),i.on("foursquare_stop",function(){n([{element:c,state:""},{element:u,state:"disabled"}])}),i.on("foursquare_progress",function(t){s(f,t)});var m=t(".yelp .update"),_=t(".yelp .stop"),d=t(".yelp .progress");m.on("click",function(t){t.preventDefault(),i.emit("yelp_start")}),_.on("click",function(t){t.preventDefault(),i.emit("yelp_stop")}),i.on("yelp_start",function(){n([{element:m,state:"disabled"},{element:_,state:""}])}),i.on("yelp_stop",function(){n([{element:m,state:""},{element:_,state:"disabled"}])}),i.on("yelp_progress",function(t){s(d,t)});var v=t(".tripadvisor .list .update"),b=t(".tripadvisor .list .stop"),g=t(".tripadvisor .list .progress");v.on("click",function(t){t.preventDefault(),i.emit("tripadvisor_list_start")}),b.on("click",function(t){t.preventDefault(),i.emit("tripadvisor_list_stop")}),i.on("tripadvisor_list_start",function(){n([{element:v,state:"disabled"},{element:b,state:""}])}),i.on("tripadvisor_list_stop",function(){n([{element:v,state:""},{element:b,state:"disabled"}])}),i.on("tripadvisor_list_progress",function(t){s(g,t)});var k=t(".tripadvisor .venues .update"),D=t(".tripadvisor .venues .stop"),h=t(".tripadvisor .venues .progress");k.on("click",function(t){t.preventDefault(),i.emit("tripadvisor_start")}),D.on("click",function(t){t.preventDefault(),i.emit("tripadvisor_stop")}),i.on("tripadvisor_start",function(){n([{element:k,state:"disabled"},{element:D,state:""}])}),i.on("tripadvisor_stop",function(){n([{element:k,state:""},{element:D,state:"disabled"}])}),i.on("tripadvisor_progress",function(t){s(h,t)});var w=t(".michelin .list .update"),q=t(".michelin .list .stop"),y=t(".michelin .list .progress");w.on("click",function(t){t.preventDefault(),i.emit("michelin_list_start")}),q.on("click",function(t){t.preventDefault(),i.emit("michelin_list_stop")}),i.on("michelin_list_start",function(){n([{element:w,state:"disabled"},{element:q,state:""}])}),i.on("michelin_list_stop",function(){n([{element:w,state:""},{element:q,state:"disabled"}])}),i.on("michelin_list_progress",function(t){s(y,t)});var x=t(".michelin .venues .update"),C=t(".michelin .venues .stop"),E=t(".michelin .venues .progress");x.on("click",function(t){t.preventDefault(),i.emit("michelin_start")}),C.on("click",function(t){t.preventDefault(),i.emit("michelin_stop")}),i.on("michelin_start",function(){n([{element:x,state:"disabled"},{element:C,state:""}])}),i.on("michelin_stop",function(){n([{element:x,state:""},{element:C,state:"disabled"}])}),i.on("michelin_progress",function(t){s(E,t)});var $=t(".repsol .list-pages .update"),j=t(".repsol .list-pages .stop"),z=t(".repsol .list-pages .progress");$.on("click",function(t){t.preventDefault(),i.emit("repsol_list_pages_start")}),j.on("click",function(t){t.preventDefault(),i.emit("repsol_list_pages_stop")}),i.on("repsol_list_pages_start",function(){n([{element:$,state:"disabled"},{element:j,state:""}])}),i.on("repsol_list_pages_stop",function(){n([{element:$,state:""},{element:j,state:"disabled"}])}),i.on("repsol_list_pages_progress",function(t){s(z,t)});var A=t(".repsol .list-restaurants .update"),B=t(".repsol .list-restaurants .stop"),F=t(".repsol .list-restaurants .progress");A.on("click",function(t){t.preventDefault(),i.emit("repsol_list_restaurants_start")}),B.on("click",function(t){t.preventDefault(),i.emit("repsol_list_restaurants_stop")}),i.on("repsol_list_restaurants_start",function(){n([{element:A,state:"disabled"},{element:B,state:""}])}),i.on("repsol_list_restaurants_stop",function(){n([{element:A,state:""},{element:B,state:"disabled"}])}),i.on("repsol_list_restaurants_progress",function(t){s(F,t)});var G=t(".repsol .venues .update"),H=t(".repsol .venues .stop"),I=t(".repsol .venues .progress");G.on("click",function(t){t.preventDefault(),i.emit("repsol_start")}),H.on("click",function(t){t.preventDefault(),i.emit("repsol_stop")}),i.on("repsol_start",function(){n([{element:G,state:"disabled"},{element:H,state:""}])}),i.on("repsol_stop",function(){n([{element:G,state:""},{element:H,state:"disabled"}])}),i.on("repsol_progress",function(t){s(I,t)})})})}($,io);