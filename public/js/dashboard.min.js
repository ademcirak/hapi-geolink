"use strict";!function(e,t){fetch("./api/v1/token",{credentials:"same-origin"}).then(function(e){return e.text()}).then(function(a){var r=t({query:"token="+a});r.on("connect",function(){var t=e(".foursquare .update"),a=e(".foursquare .pause"),s=e(".foursquare .progress"),o=e(".foursquare .download");r.on("foursquare_start",function(){t.toggleClass("disabled"),a.toggleClass("disabled"),o.toggleClass("disabled"),s.attr("aria-valuenow",0),s.attr("aria-valuetext","0 percent"),s.find(".progress-meter").width("0%"),s.find(".progress-meter-text").text("0%")}),r.on("foursquare_done",function(){t.toggleClass("disabled"),a.toggleClass("disabled"),o.toggleClass("disabled"),s.attr("aria-valuenow",0),s.attr("aria-valuetext","0 percent"),s.find(".progress-meter").width("0%"),s.find(".progress-meter-text").text("0%")}),r.on("foursquare_pause",function(){t.toggleClass("disabled"),a.toggleClass("disabled"),o.toggleClass("disabled")}),r.on("foursquare_progress",function(e){s.attr("aria-valuenow",e),s.attr("aria-valuetext",e+" percent"),s.find(".progress-meter").width(e+"%"),s.find(".progress-meter-text").text(e+"%")}),t.on("click",function(e){e.preventDefault(),r.emit("foursquare_start")}),a.on("click",function(e){e.preventDefault(),r.emit("foursquare_pause")});var l=e(".yelp .update"),n=e(".yelp .pause"),i=e(".yelp .progress"),d=e(".yelp .download");r.on("yelp_start",function(){l.toggleClass("disabled"),n.toggleClass("disabled"),d.toggleClass("disabled"),i.attr("aria-valuenow",0),i.attr("aria-valuetext","0 percent"),i.find(".progress-meter").width("0%"),i.find(".progress-meter-text").text("0%")}),r.on("yelp_done",function(){l.toggleClass("disabled"),n.toggleClass("disabled"),d.toggleClass("disabled"),i.attr("aria-valuenow",0),i.attr("aria-valuetext","0 percent"),i.find(".progress-meter").width("0%"),i.find(".progress-meter-text").text("0%")}),r.on("yelp_pause",function(){l.toggleClass("disabled"),n.toggleClass("disabled"),d.toggleClass("disabled")}),r.on("yelp_progress",function(e){i.attr("aria-valuenow",e),i.attr("aria-valuetext",e+" percent"),i.find(".progress-meter").width(e+"%"),i.find(".progress-meter-text").text(e+"%")}),l.on("click",function(e){e.preventDefault(),r.emit("yelp_start")}),n.on("click",function(e){e.preventDefault(),r.emit("yelp_pause")})})})}($,io);