"use strict";!function(t,e){function n(t){t.forEach(function(t){return"disabled"===t.state?t.element.addClass("disabled"):t.element.removeClass("disabled")})}function o(t,e){t.attr("aria-valuenow",e),t.attr("aria-valuetext",e+" percent"),t.find(".progress-meter").width(e+"%"),t.find(".progress-meter-text").text(e+"%")}fetch("./api/v1/token",{credentials:"same-origin"}).then(function(t){return t.text()}).then(function(s){var i=e({query:"token="+s});i.on("connect",function(){var e=t(".foursquare .update"),s=t(".foursquare .stop"),r=t(".foursquare .progress");e.on("click",function(t){t.preventDefault(),i.emit("foursquare_start")}),s.on("click",function(t){t.preventDefault(),i.emit("foursquare_stop")}),i.on("foursquare_start",function(){n([{element:e,state:"disabled"},{element:s,state:""}])}),i.on("foursquare_stop",function(){n([{element:e,state:""},{element:s,state:"disabled"}])}),i.on("foursquare_progress",function(t){o(r,t)});var a=t(".yelp .update"),l=t(".yelp .stop"),u=t(".yelp .progress");a.on("click",function(t){t.preventDefault(),i.emit("yelp_start")}),l.on("click",function(t){t.preventDefault(),i.emit("yelp_stop")}),i.on("yelp_start",function(){n([{element:a,state:"disabled"},{element:l,state:""}])}),i.on("yelp_stop",function(){n([{element:a,state:""},{element:l,state:"disabled"}])}),i.on("yelp_progress",function(t){o(u,t)});var c=t(".twitter .update"),p=t(".twitter .stop"),f=t(".twitter .progress");c.on("click",function(t){t.preventDefault(),i.emit("twitter_start")}),p.on("click",function(t){t.preventDefault(),i.emit("twitter_stop")}),i.on("twitter_start",function(){n([{element:c,state:"disabled"},{element:p,state:""}])}),i.on("twitter_stop",function(){n([{element:c,state:""},{element:p,state:"disabled"}])}),i.on("twitter_progress",function(t){o(f,t)});var d=t(".facebook .update"),m=t(".facebook .stop"),v=t(".facebook .progress");d.on("click",function(t){t.preventDefault(),i.emit("facebook_start")}),m.on("click",function(t){t.preventDefault(),i.emit("facebook_stop")}),i.on("facebook_start",function(){n([{element:d,state:"disabled"},{element:m,state:""}])}),i.on("facebook_stop",function(){n([{element:d,state:""},{element:m,state:"disabled"}])}),i.on("facebook_progress",function(t){o(v,t)});var _=t(".tripadvisor .list .update"),b=t(".tripadvisor .list .stop"),k=t(".tripadvisor .list .progress");_.on("click",function(t){t.preventDefault(),i.emit("tripadvisor_list_start")}),b.on("click",function(t){t.preventDefault(),i.emit("tripadvisor_list_stop")}),i.on("tripadvisor_list_start",function(){n([{element:_,state:"disabled"},{element:b,state:""}])}),i.on("tripadvisor_list_stop",function(){n([{element:_,state:""},{element:b,state:"disabled"}])}),i.on("tripadvisor_list_progress",function(t){o(k,t)});var g=t(".tripadvisor .venues .update"),D=t(".tripadvisor .venues .stop"),w=t(".tripadvisor .venues .progress");g.on("click",function(t){t.preventDefault(),i.emit("tripadvisor_start")}),D.on("click",function(t){t.preventDefault(),i.emit("tripadvisor_stop")}),i.on("tripadvisor_start",function(){n([{element:g,state:"disabled"},{element:D,state:""}])}),i.on("tripadvisor_stop",function(){n([{element:g,state:""},{element:D,state:"disabled"}])}),i.on("tripadvisor_progress",function(t){o(w,t)})})})}($,io);